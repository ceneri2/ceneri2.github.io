<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>ssmbuild-整合SSM - ceneri 的个人博客</title><meta name="description" content="A small and beautiful blogging system. 一款小而美的博客系统。"/><meta property="og:description" content="A small and beautiful blogging system. 一款小而美的博客系统。"/>    <meta name="keywords" content="Solo,Java,博客,开源"/><link rel="dns-prefetch" href="https://ceneri2.github.io"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://ceneri2.github.io"><link rel="icon" type="image/png" href="https://static.b3log.org/images/brand/solo-128.png"/><link rel="apple-touch-icon" href="https://static.b3log.org/images/brand/solo-128.png"><link rel="shortcut icon" type="image/x-icon" href="https://static.b3log.org/images/brand/solo-128.png"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="ssmbuild-整合SSM - ceneri 的个人博客"/><meta property="og:site_name" content="ceneri 的个人博客"/><meta property="og:url"      content="https://ceneri2.github.io/articles/2019/09/05/1607266751298.html?"/><meta property="og:image" content="https://static.b3log.org/images/brand/solo-128.png"/><link rel="search" type="application/opensearchdescription+xml" title="ssmbuild-整合SSM - ceneri 的个人博客" href="/opensearch.xml"><link href="https://ceneri2.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://ceneri2.github.io/manifest.json">        <link rel="canonical" href="https://ceneri2.github.io/articles/2019/09/05/1607266751298.html">        <link rel="stylesheet"
              href="https://ceneri2.github.io/skins/nijigen/css/base.css?1607435156565"/>
            <link rel="prev" title="springmvc-08-file 文件上传和下载" href="https://ceneri2.github.io/articles/2019/09/05/1607265054517.html">
            <link rel="next" title="pmp-01-引论" href="https://ceneri2.github.io/articles/2019/12/11/1599802976752.html">
    <script src="https://cdn.jsdelivr.net/npm/vditor@3.5.3/dist/js/icons/ant.js" async="" id="vditorIconScript"></script></head>
<body>
<div class="bg"></div>
<div class="bg bg--1"></div>
<div class="bg bg--2"></div>
<div class="bg bg--3"></div>
<div class="bg bg--4"></div>
<div class="bg bg--5"></div>
<header class="header">
    <div class="header__wrap">
        <a href="https://ceneri2.github.io" rel="start" class="header__logo">
            <i class="icon__home"></i> ceneri 的个人博客
        </a>

        <nav class="mobile__hidden header__nav">
            <a href="https://ceneri2.github.io/tags.html" rel="section">
                <i class="icon__tags"></i> 标签墙
            </a>
            <a href="https://ceneri2.github.io/archives.html">
                <i class="icon__inbox"></i> 存档
            </a>
            <a rel="archive" href="https://ceneri2.github.io/links.html">
                <i class="icon__link"></i> 友链
            </a>
            <a rel="alternate" href="https://ceneri2.github.io/rss.xml" rel="section">
                <i class="icon__rss"></i> RSS
            </a>
        </nav>

    </div>
</header>
<div class="header__m fn__none">
    <i class="icon__list fn__none" onclick="$(this).next().slideToggle()"></i>
    <main class="module__list fn__none"></main>
    <i class="icon__more" onclick="$(this).next().slideToggle()"></i>
    <main class="module__list">
        <ul>
            <li>
                <a href="https://ceneri2.github.io/tags.html" rel="section">
                    <i class="icon__tags"></i> 标签墙
                </a>
            </li>
            <li>
                <a href="https://ceneri2.github.io/archives.html">
                    <i class="icon__inbox"></i> 存档
                </a>
            </li>
            <li>
                <a rel="archive" href="https://ceneri2.github.io/links.html">
                    <i class="icon__link"></i> 友链
                </a>
            </li>
            <li>
                <a rel="alternate" href="https://ceneri2.github.io/rss.xml" rel="section">
                    <i class="icon__rss"></i> RSS
                </a>
            </li>
        </ul>
    </main>
</div>
<div class="main" id="pjax">
    
    <div class="content">
        <main id="articlePage">
            <div class="article-list">
                <div class="item item--active">
                    <time class="vditor-tooltipped vditor-tooltipped__n item__date"
                          aria-label="2019年">
                        09月
                        <span class="item__day">05</span>
                    </time>

                    <h2 class="item__title">
                        <a rel="bookmark" href="https://ceneri2.github.io/articles/2019/09/05/1607266751298.html">
                            ssmbuild-整合SSM
                        </a>
                    </h2>

                    <div class="item__date--m fn__none">
                        <i class="icon__date"></i>
                        2019-09-05
                    </div>

                    <div class="ft__center">
                        <span class="tag">
                            <i class="icon__tags"></i>
                            <a rel="tag" href="https://ceneri2.github.io/tags/SpringMVC">
                                SpringMVC</a>
                        </span>
                            <a class="tag" href="https://ceneri2.github.io/articles/2019/09/05/1607266751298.html#b3logsolocomments">
                                <i class="icon__comments"></i> <span data-uvstatcmt="1607266751298">0</span> 评论
                            </a>
                        <span class="tag">
                            <i class="icon__views"></i>
                        <span data-uvstaturl="https://ceneri2.github.io/articles/2019/09/05/1607266751298.html">0</span> 浏览
                        </span>
                    </div>

                    <div class="vditor-reset">
                        <h2 id="toc_h2_0">整合SSM</h2>
<h3 id="toc_h3_1">环境要求</h3>
<p>环境：</p>
<ul>
<li>IDEA</li>
<li>MySQL 5.7.19</li>
<li>Tomcat 9</li>
<li>Maven 3.6</li>
</ul>
<p>要求：</p>
<ul>
<li>需要熟练掌握MySQL数据库，Spring，JavaWeb及MyBatis知识，简单的前端知识；</li>
</ul>
<h3 id="toc_h3_2">数据库环境</h3>
<p>创建一个存放书籍数据的数据库表</p>
<pre><code>CREATE DATABASE `ssmbuild`;

USE `ssmbuild`;

DROP TABLE IF EXISTS `books`;

CREATE TABLE `books` (
`bookID` INT(10) NOT NULL AUTO_INCREMENT COMMENT '书id',
`bookName` VARCHAR(100) NOT NULL COMMENT '书名',
`bookCounts` INT(11) NOT NULL COMMENT '数量',
`detail` VARCHAR(200) NOT NULL COMMENT '描述',
KEY `bookID` (`bookID`)
) ENGINE=INNODB DEFAULT CHARSET=utf8

INSERT  INTO `books`(`bookID`,`bookName`,`bookCounts`,`detail`)VALUES
(1,'Java',1,'从入门到放弃'),
(2,'MySQL',10,'从删库到跑路'),
(3,'Linux',5,'从进门到进牢');
</code></pre>
<h3 id="toc_h3_3">基本环境搭建</h3>
<ol>
<li>新建一Maven项目！ssmbuild ， 添加web的支持</li>
<li>导入相关的pom依赖！</li>
</ol>
<pre><code>&lt;dependencies&gt;
   &lt;!--Junit--&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;junit&lt;/groupId&gt;
       &lt;artifactId&gt;junit&lt;/artifactId&gt;
       &lt;version&gt;4.12&lt;/version&gt;
   &lt;/dependency&gt;
   &lt;!--数据库驱动--&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;mysql&lt;/groupId&gt;
       &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
       &lt;version&gt;5.1.47&lt;/version&gt;
   &lt;/dependency&gt;
   &lt;!-- 数据库连接池 --&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;com.mchange&lt;/groupId&gt;
       &lt;artifactId&gt;c3p0&lt;/artifactId&gt;
       &lt;version&gt;0.9.5.2&lt;/version&gt;
   &lt;/dependency&gt;

   &lt;!--Servlet - JSP --&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
       &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
       &lt;version&gt;2.5&lt;/version&gt;
   &lt;/dependency&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;
       &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;
       &lt;version&gt;2.2&lt;/version&gt;
   &lt;/dependency&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
       &lt;artifactId&gt;jstl&lt;/artifactId&gt;
       &lt;version&gt;1.2&lt;/version&gt;
   &lt;/dependency&gt;

   &lt;!--Mybatis--&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
       &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
       &lt;version&gt;3.5.2&lt;/version&gt;
   &lt;/dependency&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
       &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;
       &lt;version&gt;2.0.2&lt;/version&gt;
   &lt;/dependency&gt;

   &lt;!--Spring--&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;org.springframework&lt;/groupId&gt;
       &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
       &lt;version&gt;5.1.9.RELEASE&lt;/version&gt;
   &lt;/dependency&gt;
   &lt;dependency&gt;
       &lt;groupId&gt;org.springframework&lt;/groupId&gt;
       &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
       &lt;version&gt;5.1.9.RELEASE&lt;/version&gt;
   &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<ol start="3">
<li>Maven资源过滤设置</li>
</ol>
<pre><code>&lt;build&gt;
   &lt;resources&gt;
       &lt;resource&gt;
           &lt;directory&gt;src/main/java&lt;/directory&gt;
           &lt;includes&gt;
               &lt;include&gt;**/*.properties&lt;/include&gt;
               &lt;include&gt;**/*.xml&lt;/include&gt;
           &lt;/includes&gt;
           &lt;filtering&gt;false&lt;/filtering&gt;
       &lt;/resource&gt;
       &lt;resource&gt;
           &lt;directory&gt;src/main/resources&lt;/directory&gt;
           &lt;includes&gt;
               &lt;include&gt;**/*.properties&lt;/include&gt;
               &lt;include&gt;**/*.xml&lt;/include&gt;
           &lt;/includes&gt;
           &lt;filtering&gt;false&lt;/filtering&gt;
       &lt;/resource&gt;
   &lt;/resources&gt;
&lt;/build&gt;
</code></pre>
<ol start="4">
<li>建立基本结构和配置框架！</li>
</ol>
<ul>
<li>com.kuang.pojo</li>
<li>com.kuang.dao</li>
<li>com.kuang.service</li>
<li>com.kuang.controller</li>
<li>mybatis-config.xml
<pre><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE configuration
       PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
       "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;configuration&gt;

&lt;/configuration&gt;
</code></pre>
</li>
<li>applicationContext.xml
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

&lt;/beans&gt;
</code></pre>
</li>
</ul>
<h3 id="toc_h3_4">Mybatis层编写</h3>
<ol>
<li>数据库配置文件 <strong>database.properties</strong></li>
</ol>
<pre><code>jdbc.driver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/ssmbuild?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8
jdbc.username=root
jdbc.password=123456
</code></pre>
<ol start="2">
<li>IDEA关联数据库</li>
<li>编写MyBatis的核心配置文件</li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE configuration
       PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
       "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;configuration&gt;
   
   &lt;typeAliases&gt;
       &lt;package name="com.kuang.pojo"/&gt;
   &lt;/typeAliases&gt;
   &lt;mappers&gt;
       &lt;mapper resource="com/kuang/dao/BookMapper.xml"/&gt;
   &lt;/mappers&gt;

&lt;/configuration&gt;
</code></pre>
<ol start="4">
<li>编写数据库对应的实体类 com.kuang.pojo.Books</li>
</ol>
<p>使用lombok插件！</p>
<pre><code>package com.kuang.pojo;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@AllArgsConstructor
@NoArgsConstructor
public class Books {
   
   private int bookID;
   private String bookName;
   private int bookCounts;
   private String detail;
   
}
</code></pre>
<ol start="5">
<li>编写Dao层的 Mapper接口！</li>
</ol>
<pre><code>package com.kuang.dao;

import com.kuang.pojo.Books;
import java.util.List;

public interface BookMapper {

   //增加一个Book
   int addBook(Books book);

   //根据id删除一个Book
   int deleteBookById(int id);

   //更新Book
   int updateBook(Books books);

   //根据id查询,返回一个Book
   Books queryBookById(int id);

   //查询全部Book,返回list集合
   List&lt;Books&gt; queryAllBook();

}
</code></pre>
<ol start="6">
<li>编写接口对应的 Mapper.xml 文件。需要导入MyBatis的包；</li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper
       PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
       "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;

&lt;mapper namespace="com.kuang.dao.BookMapper"&gt;

   &lt;!--增加一个Book--&gt;
   &lt;insert id="addBook" parameterType="Books"&gt;
      insert into ssmbuild.books(bookName,bookCounts,detail)
      values (#{bookName}, #{bookCounts}, #{detail})
   &lt;/insert&gt;

   &lt;!--根据id删除一个Book--&gt;
   &lt;delete id="deleteBookById" parameterType="int"&gt;
      delete from ssmbuild.books where bookID=#{bookID}
   &lt;/delete&gt;

   &lt;!--更新Book--&gt;
   &lt;update id="updateBook" parameterType="Books"&gt;
      update ssmbuild.books
      set bookName = #{bookName},bookCounts = #{bookCounts},detail = #{detail}
      where bookID = #{bookID}
   &lt;/update&gt;

   &lt;!--根据id查询,返回一个Book--&gt;
   &lt;select id="queryBookById" resultType="Books"&gt;
      select * from ssmbuild.books
      where bookID = #{bookID}
   &lt;/select&gt;

   &lt;!--查询全部Book--&gt;
   &lt;select id="queryAllBook" resultType="Books"&gt;
      SELECT * from ssmbuild.books
   &lt;/select&gt;

&lt;/mapper&gt;
</code></pre>
<ol start="7">
<li>编写Service层的接口和实现类</li>
</ol>
<p>接口：</p>
<pre><code>package com.kuang.service;

import com.kuang.pojo.Books;

import java.util.List;

//BookService:底下需要去实现,调用dao层
public interface BookService {
   //增加一个Book
   int addBook(Books book);
   //根据id删除一个Book
   int deleteBookById(int id);
   //更新Book
   int updateBook(Books books);
   //根据id查询,返回一个Book
   Books queryBookById(int id);
   //查询全部Book,返回list集合
   List&lt;Books&gt; queryAllBook();
}
</code></pre>
<p>实现类：</p>
<pre><code>package com.kuang.service;

import com.kuang.dao.BookMapper;
import com.kuang.pojo.Books;
import java.util.List;

public class BookServiceImpl implements BookService {

   //调用dao层的操作，设置一个set接口，方便Spring管理
   private BookMapper bookMapper;

   public void setBookMapper(BookMapper bookMapper) {
       this.bookMapper = bookMapper;
  }
   
   public int addBook(Books book) {
       return bookMapper.addBook(book);
  }
   
   public int deleteBookById(int id) {
       return bookMapper.deleteBookById(id);
  }
   
   public int updateBook(Books books) {
       return bookMapper.updateBook(books);
  }
   
   public Books queryBookById(int id) {
       return bookMapper.queryBookById(id);
  }
   
   public List&lt;Books&gt; queryAllBook() {
       return bookMapper.queryAllBook();
  }
}
</code></pre>
<p><strong>OK，到此，底层需求操作编写完毕！</strong></p>
<h3 id="toc_h3_5">Spring层</h3>
<ol>
<li>配置<strong>Spring整合MyBatis</strong>，我们这里数据源使用c3p0连接池；</li>
<li>我们去编写Spring整合Mybatis的相关的配置文件；spring-dao.xml</li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:context="http://www.springframework.org/schema/context"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       https://www.springframework.org/schema/context/spring-context.xsd"&gt;

   &lt;!-- 配置整合mybatis --&gt;
   &lt;!-- 1.关联数据库文件 --&gt;
   &lt;context:property-placeholder location="classpath:database.properties"/&gt;

   &lt;!-- 2.数据库连接池 --&gt;
   &lt;!--数据库连接池
       dbcp 半自动化操作 不能自动连接
       c3p0 自动化操作（自动的加载配置文件 并且设置到对象里面）
   --&gt;
   &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;
       &lt;!-- 配置连接池属性 --&gt;
       &lt;property name="driverClass" value="${jdbc.driver}"/&gt;
       &lt;property name="jdbcUrl" value="${jdbc.url}"/&gt;
       &lt;property name="user" value="${jdbc.username}"/&gt;
       &lt;property name="password" value="${jdbc.password}"/&gt;

       &lt;!-- c3p0连接池的私有属性 --&gt;
       &lt;property name="maxPoolSize" value="30"/&gt;
       &lt;property name="minPoolSize" value="10"/&gt;
       &lt;!-- 关闭连接后不自动commit --&gt;
       &lt;property name="autoCommitOnClose" value="false"/&gt;
       &lt;!-- 获取连接超时时间 --&gt;
       &lt;property name="checkoutTimeout" value="10000"/&gt;
       &lt;!-- 当获取连接失败重试次数 --&gt;
       &lt;property name="acquireRetryAttempts" value="2"/&gt;
   &lt;/bean&gt;

   &lt;!-- 3.配置SqlSessionFactory对象 --&gt;
   &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt;
       &lt;!-- 注入数据库连接池 --&gt;
       &lt;property name="dataSource" ref="dataSource"/&gt;
       &lt;!-- 配置MyBaties全局配置文件:mybatis-config.xml --&gt;
       &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt;
   &lt;/bean&gt;

   &lt;!-- 4.配置扫描Dao接口包，动态实现Dao接口注入到spring容器中 --&gt;
   &lt;!--解释 ：https://www.cnblogs.com/jpfss/p/7799806.html--&gt;
   &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt;
       &lt;!-- 注入sqlSessionFactory --&gt;
       &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/&gt;
       &lt;!-- 给出需要扫描Dao接口包 --&gt;
       &lt;property name="basePackage" value="com.kuang.dao"/&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</code></pre>
<ol start="3">
<li><strong>Spring整合service层</strong></li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:context="http://www.springframework.org/schema/context"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context.xsd"&gt;

   &lt;!-- 扫描service相关的bean --&gt;
   &lt;context:component-scan base-package="com.kuang.service" /&gt;

   &lt;!--BookServiceImpl注入到IOC容器中--&gt;
   &lt;bean id="BookServiceImpl" class="com.kuang.service.BookServiceImpl"&gt;
       &lt;property name="bookMapper" ref="bookMapper"/&gt;
   &lt;/bean&gt;

   &lt;!-- 配置事务管理器 --&gt;
   &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;
       &lt;!-- 注入数据库连接池 --&gt;
       &lt;property name="dataSource" ref="dataSource" /&gt;
   &lt;/bean&gt;

&lt;/beans&gt;
</code></pre>
<p>Spring层搞定！再次理解一下，Spring就是一个大杂烩，一个容器！对吧！</p>
<h3 id="toc_h3_6">SpringMVC层</h3>
<ol>
<li><strong>web.xml</strong></li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
        version="4.0"&gt;

   &lt;!--DispatcherServlet--&gt;
   &lt;servlet&gt;
       &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt;
       &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
       &lt;init-param&gt;
           &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
           &lt;!--一定要注意:我们这里加载的是总的配置文件，之前被这里坑了！--&gt;  
           &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;
       &lt;/init-param&gt;
       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
   &lt;/servlet&gt;
   &lt;servlet-mapping&gt;
       &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt;
       &lt;url-pattern&gt;/&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;

   &lt;!--encodingFilter--&gt;
   &lt;filter&gt;
       &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;
       &lt;filter-class&gt;
          org.springframework.web.filter.CharacterEncodingFilter
       &lt;/filter-class&gt;
       &lt;init-param&gt;
           &lt;param-name&gt;encoding&lt;/param-name&gt;
           &lt;param-value&gt;utf-8&lt;/param-value&gt;
       &lt;/init-param&gt;
   &lt;/filter&gt;
   &lt;filter-mapping&gt;
       &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;
       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
   &lt;/filter-mapping&gt;
   
   &lt;!--Session过期时间--&gt;
   &lt;session-config&gt;
       &lt;session-timeout&gt;15&lt;/session-timeout&gt;
   &lt;/session-config&gt;
   
&lt;/web-app&gt;
</code></pre>
<ol start="2">
<li><strong>spring-mvc.xml</strong></li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:context="http://www.springframework.org/schema/context"
      xmlns:mvc="http://www.springframework.org/schema/mvc"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context.xsd
   http://www.springframework.org/schema/mvc
   https://www.springframework.org/schema/mvc/spring-mvc.xsd"&gt;

   &lt;!-- 配置SpringMVC --&gt;
   &lt;!-- 1.开启SpringMVC注解驱动 --&gt;
   &lt;mvc:annotation-driven /&gt;
   &lt;!-- 2.静态资源默认servlet配置--&gt;
   &lt;mvc:default-servlet-handler/&gt;

   &lt;!-- 3.配置jsp 显示ViewResolver视图解析器 --&gt;
   &lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
       &lt;property name="viewClass" value="org.springframework.web.servlet.view.JstlView" /&gt;
       &lt;property name="prefix" value="/WEB-INF/jsp/" /&gt;
       &lt;property name="suffix" value=".jsp" /&gt;
   &lt;/bean&gt;

   &lt;!-- 4.扫描web相关的bean --&gt;
   &lt;context:component-scan base-package="com.kuang.controller" /&gt;

&lt;/beans&gt;
</code></pre>
<ol start="3">
<li><strong>Spring配置整合文件，applicationContext.xml</strong></li>
</ol>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

   &lt;import resource="spring-dao.xml"/&gt;
   &lt;import resource="spring-service.xml"/&gt;
   &lt;import resource="spring-mvc.xml"/&gt;
   
&lt;/beans&gt;
</code></pre>
<h3 id="toc_h3_7">Controller 和 视图层编写</h3>
<p><strong>配置文件，暂时结束！Controller 和 视图层编写</strong></p>
<ol>
<li>BookController 类编写 ， 方法一：查询全部书籍</li>
</ol>
<pre><code>@Controller
@RequestMapping("/book")
public class BookController {

   @Autowired
   @Qualifier("BookServiceImpl")
   private BookService bookService;

   @RequestMapping("/allBook")
   public String list(Model model) {
       List&lt;Books&gt; list = bookService.queryAllBook();
       model.addAttribute("list", list);
       return "allBook";
  }
}
</code></pre>
<ol start="2">
<li>编写首页 <strong>index.jsp</strong></li>
</ol>
<pre><code>&lt;%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
   &lt;title&gt;首页&lt;/title&gt;
   &lt;style type="text/css"&gt;
       a {
           text-decoration: none;
           color: black;
           font-size: 18px;
      }
       h3 {
           width: 180px;
           height: 38px;
           margin: 100px auto;
           text-align: center;
           line-height: 38px;
           background: deepskyblue;
           border-radius: 4px;
      }
   &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h3&gt;
   &lt;a href="${pageContext.request.contextPath}/book/allBook"&gt;点击进入列表页&lt;/a&gt;
&lt;/h3&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ol start="3">
<li>书籍列表页面 <strong>allbook.jsp</strong></li>
</ol>
<pre><code>&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;head&gt;
   &lt;title&gt;书籍列表&lt;/title&gt;
   &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
   &lt;!-- 引入 Bootstrap --&gt;
   &lt;link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class="container"&gt;

   &lt;div class="row clearfix"&gt;
       &lt;div class="col-md-12 column"&gt;
           &lt;div class="page-header"&gt;
               &lt;h1&gt;
                   &lt;small&gt;书籍列表 —— 显示所有书籍&lt;/small&gt;
               &lt;/h1&gt;
           &lt;/div&gt;
       &lt;/div&gt;
   &lt;/div&gt;

   &lt;div class="row"&gt;
       &lt;div class="col-md-4 column"&gt;
           &lt;a class="btn btn-primary" href="${pageContext.request.contextPath}/book/toAddBook"&gt;新增&lt;/a&gt;
       &lt;/div&gt;
   &lt;/div&gt;

   &lt;div class="row clearfix"&gt;
       &lt;div class="col-md-12 column"&gt;
           &lt;table class="table table-hover table-striped"&gt;
               &lt;thead&gt;
               &lt;tr&gt;
                   &lt;th&gt;书籍编号&lt;/th&gt;
                   &lt;th&gt;书籍名字&lt;/th&gt;
                   &lt;th&gt;书籍数量&lt;/th&gt;
                   &lt;th&gt;书籍详情&lt;/th&gt;
                   &lt;th&gt;操作&lt;/th&gt;
               &lt;/tr&gt;
               &lt;/thead&gt;

               &lt;tbody&gt;
               &lt;c:forEach var="book" items="${requestScope.get('list')}"&gt;
                   &lt;tr&gt;
                       &lt;td&gt;${book.getBookID()}&lt;/td&gt;
                       &lt;td&gt;${book.getBookName()}&lt;/td&gt;
                       &lt;td&gt;${book.getBookCounts()}&lt;/td&gt;
                       &lt;td&gt;${book.getDetail()}&lt;/td&gt;
                       &lt;td&gt;
                           &lt;a href="${pageContext.request.contextPath}/book/toUpdateBook?id=${book.getBookID()}"&gt;更改&lt;/a&gt; |
                           &lt;a href="${pageContext.request.contextPath}/book/del/${book.getBookID()}"&gt;删除&lt;/a&gt;
                       &lt;/td&gt;
                   &lt;/tr&gt;
               &lt;/c:forEach&gt;
               &lt;/tbody&gt;
           &lt;/table&gt;
       &lt;/div&gt;
   &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<ol start="4">
<li>BookController 类编写 ， 方法二：添加书籍</li>
</ol>
<pre><code>@RequestMapping("/toAddBook")
public String toAddPaper() {
   return "addBook";
}

@RequestMapping("/addBook")
public String addPaper(Books books) {
   System.out.println(books);
   bookService.addBook(books);
   return "redirect:/book/allBook";
}
</code></pre>
<ol start="5">
<li>添加书籍页面：<strong>addBook.jsp</strong></li>
</ol>
<pre><code>&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;

&lt;html&gt;
&lt;head&gt;
   &lt;title&gt;新增书籍&lt;/title&gt;
   &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
   &lt;!-- 引入 Bootstrap --&gt;
   &lt;link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="container"&gt;

   &lt;div class="row clearfix"&gt;
       &lt;div class="col-md-12 column"&gt;
           &lt;div class="page-header"&gt;
               &lt;h1&gt;
                   &lt;small&gt;新增书籍&lt;/small&gt;
               &lt;/h1&gt;
           &lt;/div&gt;
       &lt;/div&gt;
   &lt;/div&gt;
   &lt;form action="${pageContext.request.contextPath}/book/addBook" method="post"&gt;
      书籍名称：&lt;input type="text" name="bookName"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
      书籍数量：&lt;input type="text" name="bookCounts"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
      书籍详情：&lt;input type="text" name="detail"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
       &lt;input type="submit" value="添加"&gt;
   &lt;/form&gt;

&lt;/div&gt;
</code></pre>
<ol start="6">
<li>BookController 类编写 ， 方法三：修改书籍</li>
</ol>
<pre><code>@RequestMapping("/toUpdateBook")
public String toUpdateBook(Model model, int id) {
   Books books = bookService.queryBookById(id);
   System.out.println(books);
   model.addAttribute("book",books );
   return "updateBook";
}

@RequestMapping("/updateBook")
public String updateBook(Model model, Books book) {
   System.out.println(book);
   bookService.updateBook(book);
   Books books = bookService.queryBookById(book.getBookID());
   model.addAttribute("books", books);
   return "redirect:/book/allBook";
}
</code></pre>
<ol start="7">
<li>修改书籍页面  <strong>updateBook.jsp</strong></li>
</ol>
<pre><code>&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;head&gt;
   &lt;title&gt;修改信息&lt;/title&gt;
   &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
   &lt;!-- 引入 Bootstrap --&gt;
   &lt;link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="container"&gt;

   &lt;div class="row clearfix"&gt;
       &lt;div class="col-md-12 column"&gt;
           &lt;div class="page-header"&gt;
               &lt;h1&gt;
                   &lt;small&gt;修改信息&lt;/small&gt;
               &lt;/h1&gt;
           &lt;/div&gt;
       &lt;/div&gt;
   &lt;/div&gt;

   &lt;form action="${pageContext.request.contextPath}/book/updateBook" method="post"&gt;
       &lt;input type="hidden" name="bookID" value="${book.getBookID()}"/&gt;
      书籍名称：&lt;input type="text" name="bookName" value="${book.getBookName()}"/&gt;
      书籍数量：&lt;input type="text" name="bookCounts" value="${book.getBookCounts()}"/&gt;
      书籍详情：&lt;input type="text" name="detail" value="${book.getDetail() }"/&gt;
       &lt;input type="submit" value="提交"/&gt;
   &lt;/form&gt;

&lt;/div&gt;
</code></pre>
<ol start="8">
<li>BookController 类编写 ， 方法四：删除书籍</li>
</ol>
<pre><code>@RequestMapping("/del/{bookId}")
public String deleteBook(@PathVariable("bookId") int id) {
   bookService.deleteBookById(id);
   return "redirect:/book/allBook";
}
</code></pre>
<p><strong>配置Tomcat，进行运行！</strong></p>
                            <div>
                                <hr>

标题：ssmbuild-整合SSM<br>
作者：<a href="https://ceneri2.github.io" target="_blank">ceneri</a><br>
地址：<a href="https://ceneri2.github.io/articles/2019/09/05/1607266751298.html" target="_blank">https://ceneri2.github.io/articles/2019/09/05/1607266751298.html</a><br>

<!-- 签名档内可使用 HTML、JavaScript -->
<br>
                            </div>
                    </div>
                </div>
            </div>

                <div class="module mobile__hidden">
                    <div class="module__content fn__clear">
                            <a href="https://ceneri2.github.io/articles/2019/09/05/1607265054517.html" rel="prev" class="fn__left breadcrumb">
                                旧一篇: springmvc-08-file 文件上传和下载
                            </a>
                            <a href="https://ceneri2.github.io/articles/2019/12/11/1599802976752.html" rel="next"
                               class="fn__right breadcrumb">
                                pmp-01-引论: 新一篇
                            </a>
                    </div>
                </div>

                <div class="module mobile__hidden fn__none">
                    <div class="module__content">
                        <a href="https://ceneri2.github.io/articles/2019/09/05/1607265054517.html" rel="prev" class="breadcrumb">
                            旧一篇: springmvc-08-file 文件上传和下载
                        </a>
                    </div>
                </div>

                <div class="module mobile__hidden fn__none">
                    <div class="module__content">
                        <a href="https://ceneri2.github.io/articles/2019/12/11/1599802976752.html" rel="next"
                           class="breadcrumb">
                            新一篇: pmp-01-引论
                        </a>
                    </div>
                </div>
                <div id="gitalk-container" class="module__content"
                     style="border-radius: 5px;margin-bottom: 30px;box-shadow: 1px 1px 3px 1px rgba(0,0,0,0.2);transition: all .3s;"></div>
                <div id="b3logsolocomments"></div>
                <div id="vcomment" class="module__content"
                     style="border-radius: 5px;margin-bottom: 30px;box-shadow: 1px 1px 3px 1px rgba(0,0,0,0.2);transition: all .3s;"
                     data-name="ceneri" data-postId="1607266751298"></div>

            <div class="fn__flex article__relevant">
                <div class="fn__flex-1" id="externalRelevantArticlesWrap">
                    <div class="module">
                        <div id="externalRelevantArticles" class="module__list"></div>
                    </div>
                </div>
                <div class="mobile__hidden">&nbsp; &nbsp; &nbsp; &nbsp;</div>
                <div class="fn__flex-1" id="randomArticlesWrap">
                    <div class="module">
                        <div id="randomArticles" class="module__list"></div>
                    </div>
                </div>
                <div class="mobile__hidden">&nbsp; &nbsp; &nbsp; &nbsp;</div>
                <div class="fn__flex-1" id="relevantArticlesWrap">
                    <div class="module">
                        <div id="relevantArticles" class="module__list"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
<aside class="side">
        <div class="module">
            <div class="module__list">
<ul class="article__toc">
        <li class="toc__h2">
            <a href="#toc_h2_0">整合SSM</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_1">环境要求</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_2">数据库环境</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_3">基本环境搭建</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_4">Mybatis层编写</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_5">Spring层</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_6">SpringMVC层</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_7">Controller 和 视图层编写</a>
        </li>
</ul>            </div>
        </div>
        <section class="vditor-reset module">
            <main class="module__content">
                求职中，江浙沪JAVA岗希望！
            </main>
        </section>


    <div class="module item">
        <header class="module__header ft__center">
            ceneri
        </header>
        <main class="module__content ft__center">
            <img class="side__avatar" src="https://b3logfile.com/avatar/1598610885792_1599762584925.jpeg?imageView2/1/w/128/h/128/interlace/0/q/100" alt="ceneri"/>
            JAVA程序媛 <br> <br>


        </main>
    </div>


        <div class="module item">
            <header class="module__header">标签</header>
            <main class="module__content--three module__content fn__clear">
                    <a rel="tag"
                       href="https://ceneri2.github.io/tags/spring"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="11 篇文章">
                        spring</a>
                    <a rel="tag"
                       href="https://ceneri2.github.io/tags/pmp"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="13 篇文章">
                        pmp</a>
                    <a rel="tag"
                       href="https://ceneri2.github.io/tags/mybatis"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="13 篇文章">
                        mybatis</a>
                    <a rel="tag"
                       href="https://ceneri2.github.io/tags/SpringMVC"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="9 篇文章">
                        SpringMVC</a>
                    <a rel="tag"
                       href="https://ceneri2.github.io/tags/redis"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="7 篇文章">
                        redis</a>
                    <a rel="tag"
                       href="https://ceneri2.github.io/tags/SpringBoot"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="5 篇文章">
                        SpringBoot</a>
                    <a rel="tag"
                       href="https://ceneri2.github.io/tags/java"
                       class="tag vditor-tooltipped vditor-tooltipped__n"
                       aria-label="4 篇文章">
                        java</a>
            </main>
        </div>

    <div class="module item">
        <div class="module__header">
            <div class="fn__flex">
                <a href="https://ceneri2.github.io/archives.html" class="fn__flex-1 ft__center">
                    62
                    文章
                </a>
            </div>
            <br/>
            <div class="fn__flex">
                <div class="fn__flex-1 ft__center">
                    <span data-uvstaturl="https://ceneri2.github.io">0</span> <span class="ft-gray">浏览</span>
                </div>
            </div>
        </div>
    </div>
</aside>
    
</div>
</div>
<div class="icon__up" onclick="Util.goTop()"></div>
<footer class="footer">
    &copy; 2020
    <a href="https://ceneri2.github.io">ceneri 的个人博客</a>
    
    <div class="fn__none"></div>
</footer>
<div class="icon-up" onclick="Util.goTop()"></div>

<script>
  var Label = {
    speech: true,
    servePath: "https://ceneri2.github.io",
    staticServePath: "https://ceneri2.github.io",
    luteAvailable: false,
    hljsStyle: 'github',
    langLabel: "zh_CN",
    version: "4.3.1",
    staticSite: true,
    showCodeBlockLn: false,
    articleId: "1607266751298",
  }
</script>
<script type="text/javascript" src="https://ceneri2.github.io/skins/nijigen/js/common.min.js?1607435156565" charset="utf-8"></script>


<script type="text/javascript">
    Util.addScript('https://ceneri2.github.io/js/page.min.js?1607435156565', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "评论不能为空",
        "oId": "1607266751298",
        "blogHost": "https://ceneri2.github.io",
        "randomArticles1Label": "随机阅读：",
        "externalRelevantArticles1Label": "站外相关阅读："
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "0";
    page.loadRandomArticles('<header class="module__header">随机阅读</header>');
    page.loadRelevantArticles('1607266751298', '<header class="module__header">相关阅读</header>');
    Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 1558ms, 2020/12/08 22:24:13 -->